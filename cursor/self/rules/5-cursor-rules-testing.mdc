---
description:
globs: 
alwaysApply: false
---

# Cursor Rules Testing and Debugging Framework

## 1. Purpose (P0)

This document provides a comprehensive framework for testing and debugging Cursor rules. It enables systematic verification of rule functionality and provides detailed debugging capabilities to ensure correct rule application. Apply this framework during rule development, modification, or when troubleshooting rule interactions.

## 2. Debug Mode Configuration (P0)

1. Debug mode MUST only be enabled by explicit user request
2. Two operational modes MUST be supported:
   - Regular mode: No debugging information displayed to user
   - Debug mode: Detailed rule application information displayed to user
3. Debug mode MUST NOT affect rule functionality, only add informational output
4. CRITICAL: Debug mode MUST be disabled by default for production use

## 3. Debug Mode Markers (P0)

1. All debug mode output MUST be wrapped in designated markers:
   ```
   <cursor:debug>
   Debug information content goes here
   </cursor:debug>
   ```

2. Debug markers MUST be designed to:
   - Be easily identifiable in text
   - Allow for automatic removal via script
   - Minimize context window consumption
   - Follow consistent formatting throughout all outputs

## 4. Required Debug Information (P0)

1. When in debug mode, MUST report:
   - File name of the rule document being applied
   - Section number and title within the rule document
   - Rule identifier (if applicable)
   - Specific rule text being applied

2. Debug output format MUST follow this pattern:
   ```
   <cursor:debug>
   Applied: [filename.mdc] - Section [number].[number]: [section title]
   Rule: [specific rule text or identifier]
   </cursor:debug>
   ```

3. Format MUST be consistent across all rule files to enable reliable parsing

## 5. Debug Mode Activation (P0)

1. Debug mode MUST be activated by including this exact instruction in user query:
   ```
   Enable cursor rules debug mode
   ```

2. Debug mode MUST be deactivated by including this exact instruction in user query:
   ```
   Disable cursor rules debug mode
   ```

3. Debug mode status MUST persist across conversation unless explicitly changed
4. CRITICAL: Status changes MUST be acknowledged with clear confirmation messages

## 6. Debug Mode Removal Tool (P0)

1. The following one-line `sed` command MUST be used to remove all debug markers from all files in a directory:
   ```bash
   find /path/to/rules/directory -type f -exec sed -i '/<cursor:debug>/,/<\/cursor:debug>/d' {} \;
   ```

## 7. Debug Mode Implementation (P1)

1. Each rule file MUST check for debug mode status before processing rules
2. When debug mode is active, rule files MUST wrap all rule applications in debug markers
3. Implementation MUST NOT affect rule functionality, only add informational output
4. CRITICAL: Debug code MUST NOT introduce behavior changes in rule application

## 8. Testing Framework Integration (P1)

1. Debug mode MUST integrate with rule testing frameworks
2. Debug output MUST provide sufficient detail for rule verification
3. Debug mode MUST support testing of rule interactions and dependencies
